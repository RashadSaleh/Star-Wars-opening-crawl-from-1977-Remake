@import url(https://fonts.googleapis.com/css?family=News+Cycle:400,700);

@import "compass/css3";

html,
body {
  width: 100%;
  height: 100%;
}

body {
  color: #ff6;
  background: #000;
  margin: 0;
  &.on {
    overflow: hidden;
    font: 700 1em "News Cycle", sans-serif;
    letter-spacing: 0.15em;
  }
}

body > h1 {
  font-size: 400%;
  text-align: center;
}

h1.hide {
  visibility: hidden;
}

article.starwars,
.starwars section {
  > header {
    display: none;
  }
}

.start {
  a {
    color: green;
    &:visited {
      color: #888;
    }
  }
}

body.animation_body .starwars {
  section {
    position: absolute;
    top: 45%;
    left: 50%;
    z-index: 1;
  }
  .start {
    button {
      font-size: 300%;
    }

    a {
      font-size: 150%;
      .arrow {
        color: #a00;
      }
    }
    font-size: 200%;
    $start-width: 14em;
    // width: $start-width;
    margin: -4em 0 0 (-$start-width / 2);
    text-align: center;
    cursor: pointer;

    @if false {
      $start-width: 14em;
      // width: $start-width;
      margin: -4em 0 0 (-$start-width / 2);
      span {
        color: rgb(75, 213, 238);
      }
    }
  }

  .intro {
    font-size: 200%;
    font-weight: 400;
    color: rgb(75, 213, 238);
  }

  .logo {
    svg {
      width: inherit;
    }
  }

  .titles {
    overflow: hidden;

    > div.story {
      > p {
        margin: 1.35em 0 1.85em 0;
        line-height: 1.35em;
      }
    }
  }
}

body.animation_body {
  .starwars.on {
    &.animation {
      .intro {
        $intro-width: 15em;
        width: $intro-width;
        margin: 0 0 0 (-$intro-width / 2);
        opacity: 0;
        animation: intro 6s ease-out 1s;
      }
      .logo {
        animation: logo 9s ease-out 9s;
      }
      .titles {
        font-size: 350%;
        transform-origin: 50% 100%;
        @include transform(perspective(300px) rotateX(25deg));
        > div.story {
          position: absolute;
          top: 100%;
          animation: titles 60s linear 13s;
          > p {
            @include backface-visibility(hidden);
          }
        }
      }
    }

    section {
      position: absolute;
      top: 45%;
      left: 50%;
      z-index: 1;
    }
    .intro {
      $intro-width: 15em;
      width: $intro-width;
      margin: 0 0 0 (-$intro-width / 2);
      opacity: 0;
    }
    .logo {
      $logo-width: 18em;
      width: $logo-width;
      margin: (-$logo-width / 2) 0 0 (-$logo-width / 2);
      opacity: 0;
    }

    .titles {
      top: auto;
      bottom: 0;
      height: 50em;
      text-align: justify;
      $titles-width: 14.65em;
      width: $titles-width;
      margin: 0 0 0 (-$titles-width / 2);
      > div.story {
      }
    }
    .animation.hidden {
      display: none;
    }
  }
}

@keyframes intro {
  0% {
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes logo {
  0% {
    @include transform(scale(2.75));
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    @include transform(scale(0.1));
    opacity: 0;
  }
}

@keyframes titles {
  0% {
    top: 100%;
    opacity: 1;
  }
  90% {
    top: 20%;
    opacity: 1;
  }
  100% {
    top: 10%;
    opacity: 0;
  }
}
@mixin links_visible_focus {
  a:focus,
  button:focus {
    outline: red solid 2px;
  }
}
@include links_visible_focus;
